{
  "permissions": {
    "allow": [
      "Bash(powershell -Command \"New-Item -ItemType Directory -Force -Path ''E:\\POS SYSME\\POS_MISTURA\\docs\\prompts'' | Out-Null; New-Item -ItemType Directory -Force -Path ''E:\\POS SYSME\\POS_MISTURA\\docs\\reports'' | Out-Null; New-Item -ItemType Directory -Force -Path ''E:\\POS SYSME\\POS_MISTURA\\docs\\api'' | Out-Null; New-Item -ItemType Directory -Force -Path ''E:\\POS SYSME\\POS_MISTURA\\docs\\ops'' | Out-Null\")",
      "Bash(powershell -Command \"Set-Location ''E:\\POS SYSME\\POS_MISTURA''; if (Test-Path ''.\\PROMPT_MAESTRO.md'') { Move-Item ''.\\PROMPT_MAESTRO.md'' ''.\\docs\\prompts\\'' -Force }; if (Test-Path ''.\\CONTINUE.md'') { Move-Item ''.\\CONTINUE.md'' ''.\\docs\\prompts\\'' -Force }\")",
      "Bash(powershell -Command \"Set-Location ''E:\\POS SYSME\\POS_MISTURA''; if (Test-Path ''.\\backend\\src\\docs\\swagger\\pos.yaml'') { New-Item -ItemType Directory -Force -Path ''.\\docs\\api\\swagger'' | Out-Null; Move-Item ''.\\backend\\src\\docs\\swagger\\pos.yaml'' ''.\\docs\\api\\swagger\\'' -Force }\")",
      "Bash(powershell -Command \"New-Item -ItemType Directory -Force -Path ''E:\\POS SYSME\\POS_MISTURA\\packages\\shared-config'' | Out-Null; New-Item -ItemType Directory -Force -Path ''E:\\POS SYSME\\POS_MISTURA\\packages\\shared-http'' | Out-Null; New-Item -ItemType Directory -Force -Path ''E:\\POS SYSME\\POS_MISTURA\\packages\\shared-events'' | Out-Null\")",
      "Bash(powershell -Command \"Set-Location ''E:\\POS SYSME\\POS_MISTURA''; Move-Item ''REPORTE_FASE_1_1_COMPLETADA.md'' ''docs\\reports\\2025-10-19_reporte-fase-1-1-completada.md'' -Force; Move-Item ''PROGRESO_DESARROLLO_DIARIO.md'' ''docs\\reports\\2025-10-19_progreso-desarrollo-diario.md'' -Force; Move-Item ''PROGRESO_FASE_1_COMPLETADA.md'' ''docs\\reports\\2025-10-19_progreso-fase-1-completada.md'' -Force; Move-Item ''PROGRESO_DETALLADO_PASO_A_PASO.md'' ''docs\\reports\\2025-10-19_progreso-detallado-paso-a-paso.md'' -Force\")",
      "Bash(powershell -Command \"Set-Location ''E:\\POS SYSME\\POS_MISTURA''; Move-Item ''ESTADO_ACTUAL_SISTEMA.md'' ''docs\\prompts\\ESTADO_ACTUAL_SISTEMA.md'' -Force; Move-Item ''CHECKPOINT_CONTINUIDAD.md'' ''docs\\prompts\\CHECKPOINT_CONTINUIDAD.md'' -Force; Move-Item ''CHECKPOINT_ESTADO_EXACTO_ACTUAL.md'' ''docs\\prompts\\CHECKPOINT_ESTADO_EXACTO_ACTUAL.md'' -Force; Move-Item ''ANALISIS_PASOS_PENDIENTES.md'' ''docs\\prompts\\ANALISIS_PASOS_PENDIENTES.md'' -Force\")",
      "Bash(powershell -Command \"Set-Location ''E:\\POS SYSME\\POS_MISTURA''; Move-Item ''PLAN_DESARROLLO_REPORTES.md'' ''docs\\ops\\PLAN_DESARROLLO_REPORTES.md'' -Force; Move-Item ''PLAN_FASE_1_OPERATIVO.md'' ''docs\\ops\\PLAN_FASE_1_OPERATIVO.md'' -Force; Move-Item ''COMPARACION_SISTEMAS_COMPLETA.md'' ''docs\\reports\\2025-10-19_comparacion-sistemas-completa.md'' -Force; Move-Item ''ESPECIFICACION_PRODUCTOS_COMBINADOS.md'' ''docs\\ops\\ESPECIFICACION_PRODUCTOS_COMBINADOS.md'' -Force\")",
      "Bash(powershell -Command \"Set-Location ''E:\\POS SYSME\\POS_MISTURA''; Move-Item ''MIGRACION_PRECIO_VENTA_COMPLETA.md'' ''docs\\reports\\2025-10-19_migracion-precio-venta-completa.md'' -Force\")",
      "Bash(curl -s http://localhost:8547/api/events/status)",
      "Bash(curl -s -X POST http://localhost:8547/api/events/trigger -H \"Content-Type: application/json\" -d \"{\"\"type\"\":\"\"mesa.updated\"\",\"\"data\"\":{\"\"id\"\":1,\"\"estado\"\":\"\"OCUPADA\"\"}}\")",
      "Bash(timeout 5 curl -N -H \"Accept: text/event-stream\" http://localhost:8547/api/events/stream)",
      "Bash(powershell -Command \"New-Item -ItemType Directory -Force -Path ''E:\\POS SYSME\\POS_MISTURA\\packages\\shared-outbox'' | Out-Null\")",
      "Bash(mysql -u devlmer -pdevlmer2025 -e \"USE dysa_point; DESCRIBE ventas_principales; DESCRIBE venta_detalles; DESCRIBE productos; DESCRIBE mesas_restaurante;\")",
      "Bash(node src/database/analyze-ticket-tables.js)",
      "Bash(curl -s http://localhost:8547/api/pos/tickets/estadisticas)",
      "Bash(powershell -Command \"$pid = (Get-NetTCPConnection -LocalPort 8547 -State Listen -ErrorAction SilentlyContinue).OwningProcess; if ($pid) { Stop-Process -Id $pid -Force; Write-Output ''''Matado PID '''' + $pid + '''' en :8547'''' } else { Write-Output ''''No hay proceso en :8547'''' }\")",
      "Bash(powershell -Command \"Get-Process -Name node -ErrorAction SilentlyContinue | Stop-Process -Force\")",
      "Bash(npm run server:start)",
      "Bash(npm run agent:continue)",
      "Bash(npm run)",
      "Bash(curl -s http://localhost:3001/api/events/status)",
      "Bash(findstr 3001)",
      "Bash(findstr LISTENING)",
      "Bash(npm run server:status)",
      "Bash(curl -s http://localhost:8547/api/mesas/estadisticas)",
      "Bash(node src/database/run-migrations-improved.js)",
      "Bash(mysql -u devlmer -pdevlmer2025 -e \"USE dysa_point; SHOW TABLES LIKE ''sistema_%''; SHOW TABLES LIKE ''restaurante_%'';\")",
      "Bash(node src/database/verify-system-tables.js)",
      "Bash(npm run server:stop)",
      "Bash(curl -s http://localhost:8547/api/sistema/info)",
      "Bash(curl -s http://localhost:8547/api/sistema/red)",
      "Bash(curl -s http://localhost:8547/api/setup/status)",
      "Bash(npm run server:restart)",
      "Bash(curl -s http://localhost:8547/api/sistema/health)",
      "Bash(curl -s -X POST http://localhost:8547/api/sistema/red/test -H \"Content-Type: application/json\" -d \"{\"\"host_principal\"\":\"\"localhost\"\",\"\"puerto_api\"\":8548}\")",
      "Bash(curl -v -X PUT http://localhost:8547/api/sistema/red -H \"Content-Type: application/json\" -d \"{\"\"host_principal\"\":\"\"localhost\"\",\"\"puerto_api\"\":8548,\"\"ssl_activo\"\":false}\")",
      "Bash(curl -s http://localhost:8548/api/sistema/health)",
      "Bash(git add .)",
      "Bash(git init)",
      "Bash(git remote add origin https://github.com/Dysa-Devlmer/Project-New-Clean.git)",
      "Bash(git commit -m \"feat: sistema configuraciÃ³n red dinÃ¡mica + reinicio controlado\n\nâœ… FUNCIONALIDADES COMPLETADAS:\n- 4 tablas nuevas para configuraciÃ³n del sistema \n- Servicios y repositorios completos\n- Endpoints: /api/sistema/red, /api/setup/instalacion, /api/sistema/health\n- Reinicio controlado SIN matar agente (probado 8547â†’8548)\n- Migraciones y seeds aplicados correctamente\n\nðŸš€ PRÃ“XIMO: Interfaces web /setup y /config/red\n\nðŸ“‹ Estado: Puerto 8548, PID estable, BD conectada\nðŸ’¾ Checkpoint: red_dinamica_ok_reinicio_controlado\")",
      "Bash(git tag -f eod-20251019)",
      "Bash(git push origin main --follow-tags)",
      "Bash(git push origin master --follow-tags)",
      "Bash(git push origin eod-20251019)",
      "Bash(python -m json.tool)",
      "Bash(timeout 5 curl -s http://localhost:8548/api/sistema/health)",
      "Bash(curl -s -X PUT http://localhost:8547/api/sistema/red -H \"Content-Type: application/json\" -d \"{\"\"host_principal\"\":\"\"localhost\"\",\"\"puerto_api\"\":8548,\"\"ssl_activo\"\":false}\")",
      "Bash(timeout 10 bash -c 'while ! curl -s http://localhost:8548/api/sistema/health >/dev/null 2>&1; do echo \"\"Esperando servidor...\"\"; sleep 2; done; echo \"\"Servidor listo!\"\"')",
      "Bash(mkdir -p \"E:\\POS SYSME\\POS_MISTURA\\backend\\static\\config\")",
      "Bash(curl -s -I http://localhost:8548/setup)",
      "Bash(curl -s -X PUT http://localhost:8548/api/sistema/red -H \"Content-Type: application/json\" -d \"{\"\"host_principal\"\":\"\"localhost\"\",\"\"puerto_api\"\":8548,\"\"ssl_activo\"\":false}\")",
      "Bash(timeout 10 bash -c 'while ! curl -s http://localhost:8548/api/sistema/health >/dev/null 2>&1; do echo \"\"Esperando reinicio...\"\"; sleep 2; done; echo \"\"Servidor reiniciado!\"\"')",
      "Bash(dir \"E:\\POS SYSME\\POS_MISTURA\\backend\\static\\config\")",
      "Bash(curl -s http://localhost:8548/health)",
      "Bash(timeout 5 bash -c 'while ! curl -s http://localhost:8548/api/sistema/health >/dev/null 2>&1; do echo \"\"Esperando...\"\"; sleep 1; done; echo \"\"Servidor listo!\"\"')",
      "Bash(curl -s http://localhost:8547/health)",
      "Bash(curl -s -I http://localhost:8547/setup)",
      "Bash(curl -s -X PUT http://localhost:8547/api/sistema/red -H \"Content-Type: application/json\" -d \"{\"\"host_principal\"\":\"\"localhost\"\",\"\"puerto_api\"\":8547,\"\"ssl_activo\"\":false}\")",
      "Bash(timeout 10 bash -c 'while ! curl -s http://localhost:8547/api/sistema/health >/dev/null 2>&1; do echo \"\"Esperando...\"\"; sleep 1; done; echo \"\"Reiniciado!\"\"')",
      "Bash(curl -s http://localhost:8547/setup-test)",
      "Bash(timeout 5 bash -c 'while ! curl -s http://localhost:8547/health >/dev/null 2>&1; do echo \"\"Esperando...\"\"; sleep 1; done; echo \"\"Servidor listo!\"\"')",
      "Bash(timeout 5 bash -c 'while ! curl -s http://localhost:8547/api/sistema/health >/dev/null 2>&1; do echo \"\"Esperando...\"\"; sleep 1; done; echo \"\"Listo!\"\"')",
      "Bash(curl -s http://localhost:8547/api/setup-working)",
      "Bash(curl -i http://localhost:8547/setup-test)",
      "Bash(curl -I http://localhost:8547/setup)",
      "Bash(curl -I http://localhost:8547/config/red)"
    ],
    "deny": [],
    "ask": []
  }
}
